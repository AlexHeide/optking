#! SCF STO-3G geometry optimzation, with Z-matrix input, by finite-differences
import optking

#nucenergy = 8.9064890670
REF_energy = -74.965901192

molecule h2o {
     O
     H 1 1.0
     H 1 1.0 2 104.5
}

set {
  diis false
  basis sto-3g
  e_convergence 10
  d_convergence 10
  points 3
  scf_type pk
  dertype none
}

result = optking.optimize_psi4('scf')
thisenergy = result['energies'][-1]

compare_values(REF_energy, thisenergy, 6, "Reference energy")
#compare_values(nucenergy, h2o.nuclear_repulsion_energy(), 3, "Nuclear repulsion energy")
